(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){e.exports=n(200)},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(9),o=n.n(i),l=(n(113),n(35)),c=n(36),u=n(56),s=n(54),f=n(57),m=n(47),d=n(38),h=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},v={isMovePossible:function(e,t,n){var a=e[t.x][t.y],r=e[n.x][n.y];if(a!==r&&a+r!==10)return!1;var i=t.x*e[0].length+t.y,o=n.x*e[0].length+n.y,l=i<=o?{topPoint:t,bottomPoint:n}:{topPoint:n,bottomPoint:t},c=l.topPoint,u=l.bottomPoint;if(c.x===u.x){for(var s=c.x,f=c.y+1;f<u.y;f++)if("undefined"!==typeof e[s][f])return!1;return!0}if(c.y===u.y){for(var m=c.y,d=c.x+1;d<u.x;d++)if("undefined"!==typeof e[d][m])return!1;return!0}for(var v=h(e),y=Math.min(i,o),b=Math.max(i,o),p=y+1;p<b;p++)if("undefined"!==typeof v[p])return!1;return!0},createStartMatrix:function(){return[[1,2,3,4,5,6,7,8,9],[1,1,1,2,1,3,1,4,1],[5,1,6,1,7,1,8,1,9]]},flattenMatrix:h},y=function(){function e(t,n){Object(l.a)(this,e),this.x=t,this.y=n}return Object(c.a)(e,[{key:"equals",value:function(t){return!!t&&(t instanceof e&&(this===t||this.x===t.x&&this.y===t.y))}}]),e}(),b=n(6),p=n.n(b),x=(n(114),function(e){return r.a.createElement("div",{className:p()("Cell",{"Cell--active":e.isActive,"Cell--disabled":e.isDisabled}),onClick:e.onClick},e.value)}),P=(n(115),function(e){var t=function(t,n){var a=e.firstPoint,r=e.secondPoint;return a&&a.x===t&&a.y===n||r&&r.x===t&&r.y===n},n=function(t,n){return"undefined"===typeof e.matrix[t][n]};return r.a.createElement("div",null,r.a.createElement("div",{className:"Field"},e.matrix.map(function(a,i){return r.a.createElement("div",{className:"Row",key:i},a.map(function(a,o){return r.a.createElement(x,{key:"".concat(i,":").concat(o),isActive:t(i,o),isDisabled:n(i,o),onClick:function(){return e.setPoint(i,o)},value:a})}))})))}),E=n(46),O=(n(195),function(e){return r.a.createElement("div",{className:"Controls"},r.a.createElement(E.a,{bsStyle:"primary",onClick:e.refill},"Continue ",r.a.createElement(E.b,{glyph:"equalizer"})),r.a.createElement(E.a,{bsStyle:"danger",onClick:e.restart},"Restart ",r.a.createElement(E.b,{glyph:"refresh"})))}),w=(n(196),function(e){return r.a.createElement("div",{className:"GameOver"},"You did it! Hit ",r.a.createElement("a",{href:"/",onClick:function(t){t.preventDefault(),e.restart()}},"Restart")," to play again!")}),j=(n(197),function(){return r.a.createElement("section",{className:"jumbotron HowToPlay"},r.a.createElement("h2",{className:"display-4"},"How to play"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"lead HowToPlay-rules"},"Click on 2 neighbour cells, where the values are the same or give 10 in sum. Cells are considered neighbours when they are:",r.a.createElement("ul",null,r.a.createElement("li",null,"positioned next to each other horizontaly or vertically"),r.a.createElement("li",null,"positioned on two subsequent rows")),"and there are no non-empty cells inbetween. Once there are no more moves, click Continue to replenish matrix with the remaining values (empty cells are excluded). The game ends when there are no calls left. Have fun!"))}),k=(n(198),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state=n.buildInitialState(),n.setPoint=n.setPoint.bind(Object(d.a)(n)),n.refill=n.refill.bind(Object(d.a)(n)),n.restart=n.restart.bind(Object(d.a)(n)),n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"buildInitialState",value:function(){return{matrix:v.createStartMatrix(),firstPoint:null,secondPoint:null,gameOver:!1}}},{key:"restart",value:function(){this.setState(this.buildInitialState())}},{key:"setPoint",value:function(e,t){this.state.matrix[e][t]&&this.setState(function(n){var a=new y(e,t),r=n.firstPoint,i=n.secondPoint;if(r&&r.equals(a))return Object(m.a)({},n,{firstPoint:null});if(i&&i.equals(a))return Object(m.a)({},n,{secondPoint:null});var o=n.matrix;r?i||(i=new y(e,t)):r=new y(e,t);var l=n.gameOver;return r&&i&&v.isMovePossible(o,r,i)&&(o[r.x][r.y]=void 0,o[i.x][i.y]=void 0,r=null,i=null,0===(o=o.filter(function(e){return!e.every(function(e){return"undefined"===typeof e})})).length&&(l=!0)),Object(m.a)({},n,{firstPoint:r,secondPoint:i,gameOver:l,matrix:o})})}},{key:"refill",value:function(){this.setState(function(e){for(var t=v.flattenMatrix(e.matrix),n=t.pop();"undefined"===typeof n;)n=t.pop();t.push(n);var a=t.filter(function(e){return"undefined"!==typeof e}),r=t.concat(a).reduce(function(e,t,n){var a=Math.floor(n/9);return n%9===0&&e.push(new Array(9).fill(void 0)),e[a][n%9]=t,e},[]);return Object(m.a)({},e,{matrix:r})})}},{key:"render",value:function(){var e=this;return r.a.createElement("main",{className:"Game"},r.a.createElement("section",{className:"Game-matrix"},r.a.createElement(O,{restart:this.restart,refill:this.refill}),r.a.createElement(P,{matrix:this.state.matrix,firstPoint:this.state.firstPoint,secondPoint:this.state.secondPoint,setPoint:function(t,n){return e.setPoint(t,n)}}),this.state.gameOver&&r.a.createElement(w,{restart:function(){return e.restart()}})),r.a.createElement(j,null))}}]),t}(r.a.PureComponent)),g=(n(199),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null))}}]),t}(a.Component));o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.f0372aef.chunk.js.map